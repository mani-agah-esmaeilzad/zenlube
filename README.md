# Oilbar โ ูุฑูุดฺฏุงู ูููุงู ุฑูุบู ููุชูุฑ

Oilbar ฺฉ ูุฑูุดฺฏุงู ฺฉุงูู ุจุฑุง ูุฑูุด ุขููุงู ุฑูุบู ููุชูุฑ ุงุณุช ฺฉู ุจุง ุชูู ุจููุด/ุณูุฏ/ูุดฺฉ ู ุทุฑุงุญ ูููุงู ูพุงุฏูโุณุงุฒ ุดุฏู. ุงู ูพุฑูฺู ุจุฑ ูพุงู **Next.js 15 (App Router)** ุณุงุฎุชู ุดุฏู ู ุดุงูู ูุฑุงูุชโุงูุฏุ ุจฺฉโุงูุฏุ ุณุณุชู ุงุญุฑุงุฒ ููุชุ ูุฏุฑุช ุณุจุฏ ุฎุฑุฏุ ูุณุช ุฎูุฏุฑููุง ุจุง ูุดุฎุตุงุช ูู ู **ูพูู ุงุฏูู ฺฉุงูู** ุจุฑุง ูุฏุฑุช ูุญุตููุงุชุ ุฏุณุชูโุจูุฏโูุงุ ุจุฑูุฏูุง ู ูฺฏุงุดุช ูุญุตููุงุช ุจู ุฎูุฏุฑููุง ุงุณุช.

## ูุงุจูุชโูุง

- ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ ูููุงู ุจุง ุชูุฑฺฉุฒ ุฑู ูุญุตููุงุช ูฺูุ ุฏุณุชูโุจูุฏโูุง ู ุจุฑูุฏูุง ูุนุชุจุฑ
- ๐ ุณุจุฏ ุฎุฑุฏ ูุชุตู ุจู ุฏุชุงุจุณ ุจุง ุงูฺฉุงู ุงูุฒุงุด/ฺฉุงูุด ุชุนุฏุงุฏ ู ุฎุงู ฺฉุฑุฏู
- ๐ค ุตูุญู ุญุณุงุจ ฺฉุงุฑุจุฑุ ููุงุด ุณูุงุฑุดโูุง ู ูุถุนุช ูุฑูุฏ ุจุง NextAuth (ุงุณุชุฑุงุชฺ JWT)
- ๐ ูุณุช ุฎูุฏุฑููุง ููุฑุงู ุจุง ูุดุฎุตุงุช ูู ู ูุญุตููุงุช ุชูุตูโุดุฏู ุจุฑุง ูุฑ ุฎูุฏุฑู
- ๐๏ธ ูพูู ุงุฏูู ูุญุงูุธุชโุดุฏู ุจุฑุง ุงูุฒูุฏู/ูุฑุงุด ููุฌูุฏ ุดุงูู:
  - ุฏุณุชูโุจูุฏโูุง ู ุจุฑูุฏูุง
  - ุฎูุฏุฑููุง ู ูุดุฎุตุงุช ูู ุขูโูุง
  - ูุญุตููุงุช ุฌุฏุฏ ู ูฺฏุงุดุช ุจู ุฎูุฏุฑููุง ุณุงุฒฺฏุงุฑ
- ๐๏ธ ุงุชุตุงู ุจู PostgreSQL ุจุง Prisma ู ุงุณฺฉุฑูพุช Seed ุจุฑุง ุฏุงุฏูโูุง ููููู (ุจุฑูุฏูุงุ ุฏุณุชูโุจูุฏโูุงุ ุฎูุฏุฑููุงุ ูุญุตููุงุช ู ฺฉุงุฑุจุฑ ุงุฏูู)
- ๐ ุขูุงุฏู ุงุณุชูุฑุงุฑ ุฑู Vercel ููุฑุงู ุจุง Postgres (Vercel Postgres ุง Neonุ Supabase ู...)

## ุชฺฉููููฺโูุง

- Next.js 15 (App Router, Server/Client Components)
- TypeScript + Tailwind CSS v4
- Prisma ORM + PostgreSQL
- NextAuth (Credentials Provider)
- ESLint (Flat Config)

## ุฑุงูโุงูุฏุงุฒ ูุญู

1. ูพุดโูุงุฒูุง: Node.js 18+ุ PostgreSQL ุง ุณุฑูุณ ุงุจุฑ ูุนุงุฏู
2. ูพฺฉุฌโูุง ุฑุง ูุตุจ ฺฉูุฏ:

   ```bash
   npm install
   ```

3. ูุงู `.env` ุฑุง ูุทุงุจู ููููู ุฒุฑ ุชูุธู ฺฉูุฏ:

   ```env
   DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DB?schema=public"
   NEXTAUTH_SECRET="ฺฉ_ุฑุดุชู_ุชุตุงุฏู_ุทููุงู"
   NEXTAUTH_URL="http://localhost:3000"
   ZARINPAL_MERCHANT_ID="ฺฉุฏ ูุฑฺูุช ุฒุฑูโูพุงู"
   ZARINPAL_CALLBACK_URL="http://localhost:3000/api/payments/zarinpal/callback"
   MELIPAYAMAK_USERNAME="ูุงู ฺฉุงุฑุจุฑ ูู ูพุงูฺฉ"
   MELIPAYAMAK_PASSWORD="ุฑูุฒ ุนุจูุฑ ูู ูพุงูฺฉ"
   MELIPAYAMAK_FROM="ุดูุงุฑู ุงุฑุณุงูโฺฉููุฏู"
   NEXT_PUBLIC_APP_URL="http://localhost:3000"
   STORAGE_DRIVER="local" # ุง s3
   STORAGE_BUCKET="ูุงู ุจุงฺฉุช ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ S3"
   AWS_ACCESS_KEY_ID="ฺฉูุฏ ุฏุณุชุฑุณ ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ S3"
   AWS_SECRET_ACCESS_KEY="ฺฉูุฏ ูุญุฑูุงูู ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ S3"
   AWS_REGION="ููุทูู AWS"
   CRON_SECRET="ุฑูุฒ ุชุฃุฏ ุจุฑุง Webhookูุง ุฒูุงูโุจูุฏ"
   HCAPTCHA_SECRET="ุชูฺฉู ุณุฑูุฑ ฺฉูพฺุง (ุงุฎุชุงุฑ)"
   ```

4. ุฏุชุงุจุณ ุฑุง ููุงุฌุฑุช ุฏูุฏ ู ุฏุงุฏูโูุง ุงููู ุฑุง ุงุนูุงู ฺฉูุฏ:

   ```bash
   npx prisma migrate dev --name init
   npm run seed
   ```

   > ุงุณฺฉุฑูพุช Seed ฺฉ ุงุฏูู ููููู ุจุง ูุดุฎุตุงุช ุฒุฑ ูโุณุงุฒุฏ: `admin@oilbar.ir` / `Admin@123`

5. ุณุฑูุฑ ุชูุณุนู ุฑุง ุงุฌุฑุง ฺฉูุฏ:

   ```bash
   npm run dev
   ```

   ุณูพุณ ุจู ุขุฏุฑุณ [http://localhost:3000](http://localhost:3000) ูุฑุงุฌุนู ฺฉูุฏ.

## ุงุณุชูุฑุงุฑ ุฑู Vercel

1. ุฑูพุงุฒุชูุฑ ุฑุง ุจู GitHub/GitLab ููุชูู ู ุฏุฑ Vercel ุงููพูุฑุช ฺฉูุฏ.
2. ูุชุบุฑูุง ูุญุท ุฒุฑ ุฑุง ุฏุฑ Vercel ุชูุธู ฺฉูุฏ:
   - `DATABASE_URL`
   - `NEXTAUTH_SECRET`
   - `NEXTAUTH_URL` (ูุซูุงู `https://your-domain.vercel.app`)
   - `NEXT_PUBLIC_APP_URL` (ุฏุงููู ุนููู ุจุฑุง callback ูพุฑุฏุงุฎุช)
   - `ZARINPAL_MERCHANT_ID`
   - `ZARINPAL_CALLBACK_URL`
   - `MELIPAYAMAK_USERNAME`
   - `MELIPAYAMAK_PASSWORD`
   - `MELIPAYAMAK_FROM`
   - `STORAGE_DRIVER`
   - `STORAGE_BUCKET` + ฺฉูุฏูุง AWS (ุฏุฑ ุตูุฑุช ุงูุชุฎุงุจ `s3`)
   - `CRON_SECRET`
   - `HCAPTCHA_SECRET` (ุฏุฑ ุตูุฑุช ูุนุงูโุณุงุฒ ฺฉูพฺุง)
3. ูุจู ุงุฒ ุงููู ุงุณุชูุฑุงุฑุ ุฑู ูุญุท production ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ (ุงุฒ ุทุฑู Vercel CLI ุง pipeline):

   ```bash
   npx prisma migrate deploy
   npm run seed
   ```

   ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุฌุฑุง ูุฌุฏุฏ Seed ุฑู productionุ ูพุณ ุงุฒ ุงุฌุงุฏ ุฏุงุฏูโูุง ุงููู ูโุชูุงูุฏ ุงุณฺฉุฑูพุช ุฑุง ุญุฐู ุง ุดุฑุท ฺฉูุฏ.

4. ูพุณ ุงุฒ ุงุณุชูุฑุงุฑุ ุจุง ฺฉุงุฑุจุฑ ุงุฏูู ูุงุฑุฏ `/admin` ุดูุฏ ู ูุญุตููุงุช/ุฎูุฏุฑููุง ุฌุฏุฏ ุฑุง ูุฏุฑุช ฺฉูุฏ.

## ุณุงุฎุชุงุฑ ูุณุฑูุง ููู

- `/` โ ุตูุญู ุงุตู ุจุง ูุนุฑู ูุญุตููุงุช ูฺูุ ุฏุณุชูโุจูุฏโูุงุ ุจุฑูุฏูุง ู ุฎูุฏุฑููุง ูุญุจูุจ
- `/products` โ ูุณุช ูุญุตููุงุช ุจุง ููุชุฑ ุฌุณุชุฌูุ ุจุฑูุฏุ ุฏุณุชูโุจูุฏ ู ุฎูุฏุฑู
- `/products/[slug]` โ ุฌุฒุฆุงุช ูุญุตูู ู ุฎูุฏุฑููุง ุณุงุฒฺฏุงุฑ
- `/cars` โ ูุณุช ุฎูุฏุฑููุง ุจุง ูุดุฎุตุงุช ูู ู ูุญุตููุงุช ุชูุตูโุดุฏู
- `/cart` โ ุณุจุฏ ุฎุฑุฏ ฺฉุงุฑุจุฑ (ูุงุฒููุฏ ูุฑูุฏ)
- `/account` โ ุตูุญู ุญุณุงุจ ฺฉุงุฑุจุฑ ู ุณูุงุฑุดโูุง (ูุงุฒููุฏ ูุฑูุฏ)
- `/admin` โ ูพูู ุงุฏูู (ูุงุฒููุฏ ููุด ADMIN)

## ูฺฉุงุช ุชฺฉูู

- ุงุณุชุงูโูุง ุจุง Tailwind v4 ู ุชูฺฉูโูุง ุณูุงุฑุด ุจุฑุง ุฑูฺฏโูุง (ุจููุด/ุณูุฏ/ูุดฺฉ) ูพุงุฏูโุณุงุฒ ุดุฏูโุงูุฏ.
- ุจุฑุง ุงูุฒูุฏู ููุดโูุง ุง ูุชุฏูุง ุงุญุฑุงุฒ ููุช ุจุดุชุฑุ ูโุชูุงูุฏ ุชูุธูุงุช `src/lib/auth.config.ts` ุฑุง ฺฏุณุชุฑุด ุฏูุฏ.
- ูุงูโูุง Seed ุฏุฑ `prisma/seed.ts` ูุฑุงุฑ ุฏุงุฑุฏุ ูุทุงุจู ูุงุฒ ูโุชูุงูุฏ ุฏุงุฏูโูุง ุฑุง ุชุบุฑ ุฏูุฏ.
- ุจุฑุง ุจูโุฑูุฒุฑุณุงู ุงุณฺฉูุง ุฏุชุงุจุณุ ูพุณ ุงุฒ ูุฑุงุด `prisma/schema.prisma` ุฏุณุชูุฑ `npx prisma generate` ู ุณูพุณ `npx prisma migrate dev` ุฑุง ุงุฌุฑุง ฺฉูุฏ.

ูููู ุจุงุดุฏ ู ุงฺฏุฑ ูุงุฒ ุจู ุชูุณุนู ุจุดุชุฑ ุฏุงุดุชุฏ (ูพุฑุฏุงุฎุช ุขููุงูุ ุณูุงุฑุดโฺฏุฑุ ฺฏุฒุงุฑุดโฺฏุฑ ู ...)ุ ุณุงุฎุชุงุฑ ูพุฑูฺู ุขูุงุฏูโ ฺฏุณุชุฑุด ุงุณุช. ๐
